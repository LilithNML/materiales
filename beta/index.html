<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Editor de subtítulos offline para archivos de audio. Crea subtítulos sincronizados en formato SRT y LRC directamente desde tu navegador.">
    <title>Subtitle Sync Editor</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico">
</head>
<body class="theme-dark">
    <div class="loading-overlay">
        <div class="loading-spinner"></div>
    </div>

    <header>
        <h1>Subtitle Sync Editor</h1>
        <div class="theme-controls">
            <button id="themeToggle" aria-label="Cambiar tema">
                <svg class="icon-theme" viewBox="0 0 24 24">
                    <path class="sun" d="M12 15.5a3.5 3.5 0 100-7 3.5 3.5 0 000 7z"/>
                    <path class="sun-beams" d="M12 2v2m0 16v2M2 12h2m16 0h2m-3-7l-1.5 1.5M4.5 19.5L6 18M19.5 19.5L18 18M4.5 4.5L6 6"/>
                </svg>
            </button>
            <div class="color-picker">
                <button class="color-theme" data-theme="blue" aria-label="Tema azul"></button>
                <button class="color-theme" data-theme="purple" aria-label="Tema morado"></button>
                <button class="color-theme" data-theme="green" aria-label="Tema verde"></button>
                <button class="color-theme" data-theme="orange" aria-label="Tema naranja"></button>
                <button class="color-theme" data-theme="red" aria-label="Tema rojo"></button>
                <button class="color-theme" data-theme="pink" aria-label="Tema rosa"></button>
                <input type="color" id="customColor" aria-label="Color personalizado">
            </div>
        </div>
    </header>

    <main>
        <section class="audio-section">
            <div class="file-drop-zone" id="dropZone">
                <input type="file" id="audioInput" accept="audio/*" class="file-input" aria-label="Seleccionar archivo de audio">
                <div class="drop-zone-content">
                    <svg class="icon-upload" viewBox="0 0 24 24">
                        <path d="M12 2L4 10h3v8h10v-8h3L12 2z"/>
                    </svg>
                    <p>Arrastra un archivo de audio o haz click para seleccionar</p>
                </div>
            </div>

            <div class="audio-player" hidden>
                <div class="waveform-container">
                    <canvas id="waveform"></canvas>
                    <div class="playhead"></div>
                </div>
                
                <div class="player-controls">
                    <button id="skipBack" aria-label="Retroceder 5 segundos">
                        <svg viewBox="0 0 24 24"><path d="M12 5V1L7 6l5 5V7c3.3 0 6 2.7 6 6s-2.7 6-6 6-6-2.7-6-6H4c0 4.4 3.6 8 8 8s8-3.6 8-8-3.6-8-8-8z"/></svg>
                    </button>
                    <button id="playPause" aria-label="Reproducir/Pausar">
                        <svg class="icon-play" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
                        <svg class="icon-pause" viewBox="0 0 24 24"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>
                    </button>
                    <button id="skipForward" aria-label="Avanzar 5 segundos">
                        <svg viewBox="0 0 24 24"><path d="M12 5V1l5 5-5 5V7c-3.3 0-6 2.7-6 6s2.7 6 6 6 6-2.7 6-6h2c0 4.4-3.6 8-8 8s-8-3.6-8-8 3.6-8 8-8z"/></svg>
                    </button>
                    <span id="currentTime" class="time-display">00:00:00,000</span>
                    <span class="time-separator">/</span>
                    <span id="duration" class="time-display">00:00:00,000</span>
                </div>
            </div>
        </section>

        <section class="subtitle-section">
            <div class="subtitle-controls">
                <button id="captureStart" class="btn" disabled>
                    <svg viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
                    Capturar Inicio
                </button>
                <button id="captureEnd" class="btn" disabled>
                    <svg viewBox="0 0 24 24"><path d="M6 6h12v12H6z"/></svg>
                    Capturar Final
                </button>
                <div class="format-select">
                    <label for="formatSelect">Formato:</label>
                    <select id="formatSelect">
                        <option value="srt">SRT</option>
                        <option value="lrc">LRC</option>
                    </select>
                </div>
                <button id="exportBtn" class="btn" disabled>Exportar</button>
                <button id="resetBtn" class="btn">Reiniciar</button>
            </div>

            <div class="subtitle-editor">
                <div class="subtitle-list" id="subtitleList"></div>
                <div class="subtitle-input-container">
                    <textarea
                        id="subtitleText"
                        placeholder="Escribe el texto del subtítulo aquí..."
                        rows="3"
                        disabled
                    ></textarea>
                    <button id="addSubtitle" class="btn" disabled>Añadir Subtítulo</button>
                </div>
            </div>
        </section>
    </main>

    <template id="subtitleItemTemplate">
        <div class="subtitle-item">
            <div class="subtitle-time">
                <span class="time-start"></span>
                <span class="time-separator">→</span>
                <span class="time-end"></span>
            </div>
            <div class="subtitle-content"></div>
            <div class="subtitle-actions">
                <button class="btn-edit" aria-label="Editar subtítulo">
                    <svg viewBox="0 0 24 24"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/></svg>
                </button>
                <button class="btn-delete" aria-label="Eliminar subtítulo">
                    <svg viewBox="0 0 24 24"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/></svg>
                </button>
            </div>
        </div>
    </template>

    <script src="waveform.js"></script>
    <script src="script.js"></script>
</body>
              </html>
